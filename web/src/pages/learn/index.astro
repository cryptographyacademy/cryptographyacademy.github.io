---
import BaseLayout from '../../layouts/BaseLayout.astro';
---

<BaseLayout title="Learn Lean 4">
  <div class="max-w-4xl mx-auto">
    <header class="mb-12">
      <h1 class="text-4xl font-bold mb-4">Learn Lean 4</h1>
      <p class="text-xl text-gray-300">
        Master the essentials of Lean 4 needed to understand and contribute to
        Cryptography Academy's formal proofs.
      </p>
    </header>

    <section class="mb-12">
      <div class="bg-gray-800 p-6 rounded-xl border border-gray-700 mb-8">
        <h2 class="text-xl font-semibold mb-3">Why Learn Lean?</h2>
        <p class="text-gray-300 leading-relaxed">
          Every definition and theorem on this site is written in Lean 4.
          Understanding Lean lets you read the precise mathematical definitions,
          verify proofs yourself, and contribute new formalizations. You don't
          need to become an expert—just enough to follow along.
        </p>
      </div>
    </section>

    <section class="mb-12">
      <h2 class="text-2xl font-bold mb-6">Setting Up Lean</h2>

      <p class="text-gray-300 mb-6 leading-relaxed">
        You can try Lean directly in your browser using the interactive editors
        on this site. For a full development environment, follow these steps:
      </p>

      <div class="space-y-6">
        <div class="bg-gray-800 p-6 rounded-xl border border-gray-700">
          <h3 class="text-lg font-semibold mb-3 flex items-center gap-2">
            <span class="text-2xl">1</span>
            Install elan (Lean version manager)
          </h3>
          <p class="text-gray-400 mb-4">
            elan manages Lean toolchains, similar to rustup for Rust.
          </p>
          <pre
            class="bg-gray-900 p-4 rounded-lg overflow-x-auto text-sm"><code>curl https://elan.lean-lang.org/elan-init.sh -sSf | sh</code></pre>
          <p class="text-gray-500 text-sm mt-3">
            On Windows, download and run
            <a
              href="https://github.com/leanprover/elan/releases"
              target="_blank"
              rel="noopener noreferrer"
              class="text-blue-400 hover:text-blue-300">elan-init.exe</a
            >.
          </p>
        </div>

        <div class="bg-gray-800 p-6 rounded-xl border border-gray-700">
          <h3 class="text-lg font-semibold mb-3 flex items-center gap-2">
            <span class="text-2xl">2</span>
            Install VS Code + Lean 4 extension
          </h3>
          <p class="text-gray-400 mb-4">
            VS Code provides the best Lean editing experience with real-time
            feedback, goal display, and Unicode input.
          </p>
          <ol class="list-decimal list-inside space-y-2 text-gray-400">
            <li>
              Install <a
                href="https://code.visualstudio.com/"
                target="_blank"
                rel="noopener noreferrer"
                class="text-blue-400 hover:text-blue-300">VS Code</a
              >
            </li>
            <li>
              Install the <a
                href="https://marketplace.visualstudio.com/items?itemName=leanprover.lean4"
                target="_blank"
                rel="noopener noreferrer"
                class="text-blue-400 hover:text-blue-300">lean4 extension</a
              >
            </li>
          </ol>
        </div>

        <div class="bg-gray-800 p-6 rounded-xl border border-gray-700">
          <h3 class="text-lg font-semibold mb-3 flex items-center gap-2">
            <span class="text-2xl">3</span>
            Clone the Cryptography Academy project
          </h3>
          <p class="text-gray-400 mb-4">
            Get the formalized proofs and run them locally.
          </p>
          <pre
            class="bg-gray-900 p-4 rounded-lg overflow-x-auto text-sm"><code>git clone https://github.com/badaas/cryptography.academy.git
cd cryptography.academy
./scripts/setup-lean.sh</code></pre>
          <p class="text-gray-500 text-sm mt-3">
            This installs the correct Lean version and downloads the Mathlib
            cache.
          </p>
        </div>

        <div class="bg-gray-800 p-6 rounded-xl border border-gray-700">
          <h3 class="text-lg font-semibold mb-3 flex items-center gap-2">
            <span class="text-2xl">4</span>
            Build and check proofs
          </h3>
          <p class="text-gray-400 mb-4">
            Use Lake (Lean's build system) to compile and verify the proofs.
          </p>
          <pre
            class="bg-gray-900 p-4 rounded-lg overflow-x-auto text-sm mb-4"><code><span class="text-gray-500"># Build the entire project</span>
cd lean
lake build

<span class="text-gray-500"># Or use the Makefile from the project root</span>
make build</code></pre>
          <p class="text-gray-400 mb-3">Common Lake commands:</p>
          <ul class="space-y-2 text-gray-400 text-sm">
            <li>
              <code class="bg-gray-900 px-2 py-1 rounded">lake build</code> — Compile
              all Lean files and check proofs
            </li>
            <li>
              <code class="bg-gray-900 px-2 py-1 rounded"
                >lake exe cache get</code
              >
              — Download pre-built Mathlib (faster than compiling)
            </li>
            <li>
              <code class="bg-gray-900 px-2 py-1 rounded">lake clean</code> — Remove
              build artifacts
            </li>
          </ul>
        </div>
      </div>

      <div class="bg-blue-900/30 border border-blue-700 p-4 rounded-lg mt-6">
        <p class="text-blue-200">
          <strong>No installation needed?</strong> The tutorials include interactive
          editors powered by
          <a
            href="https://live.lean-lang.org"
            target="_blank"
            rel="noopener noreferrer"
            class="text-blue-300 hover:text-blue-200 underline">lean4web</a
          >. You can learn and experiment without installing anything.
        </p>
      </div>
    </section>

    <section class="mb-12">
      <h2 class="text-2xl font-bold mb-8">Learning Path</h2>

      <div class="space-y-6">
        <a
          href="/learn/reading-lean"
          class="block bg-gray-800 p-6 rounded-xl hover:bg-gray-750 transition-colors border border-gray-700"
        >
          <div>
            <h3 class="text-xl font-semibold mb-2">1. Reading Lean Code</h3>
            <p class="text-gray-400">
              Learn to read definitions, theorems, and proofs. Understand the
              syntax without writing code yourself.
            </p>
            <span class="inline-block mt-3 text-blue-400 text-sm"
              >Start here →</span
            >
          </div>
        </a>

        <a
          href="/learn/types-and-terms"
          class="block bg-gray-800 p-6 rounded-xl hover:bg-gray-750 transition-colors border border-gray-700"
        >
          <div>
            <h3 class="text-xl font-semibold mb-2">2. Types and Terms</h3>
            <p class="text-gray-400">
              Understand Lean's type system—the foundation of formal
              mathematics. Learn about Prop, Type, structures, and inductive
              types.
            </p>
            <span class="inline-block mt-3 text-gray-500 text-sm"
              >20 min read</span
            >
          </div>
        </a>

        <a
          href="/learn/proofs-and-tactics"
          class="block bg-gray-800 p-6 rounded-xl hover:bg-gray-750 transition-colors border border-gray-700"
        >
          <div>
            <h3 class="text-xl font-semibold mb-2">3. Proofs and Tactics</h3>
            <p class="text-gray-400">
              How proofs work in Lean. Learn common tactics like intro, apply,
              exact, and how to read tactic proofs.
            </p>
            <span class="inline-block mt-3 text-gray-500 text-sm"
              >25 min read</span
            >
          </div>
        </a>

        <a
          href="/learn/mathlib-basics"
          class="block bg-gray-800 p-6 rounded-xl hover:bg-gray-750 transition-colors border border-gray-700"
        >
          <div>
            <h3 class="text-xl font-semibold mb-2">4. Using Mathlib</h3>
            <p class="text-gray-400">
              Navigate Mathlib's algebraic structures: groups, rings, fields.
              Find and use existing theorems for your proofs.
            </p>
            <span class="inline-block mt-3 text-gray-500 text-sm"
              >30 min read</span
            >
          </div>
        </a>

        <a
          href="/learn/crypto-patterns"
          class="block bg-gray-800 p-6 rounded-xl hover:bg-gray-750 transition-colors border border-gray-700"
        >
          <div>
            <h3 class="text-xl font-semibold mb-2">
              5. Cryptographic Patterns
            </h3>
            <p class="text-gray-400">
              Common patterns in cryptographic formalizations: security
              definitions, game-based proofs, and computational assumptions.
            </p>
            <span class="inline-block mt-3 text-gray-500 text-sm"
              >35 min read</span
            >
          </div>
        </a>
      </div>
    </section>

    <section class="mb-12">
      <h2 class="text-2xl font-bold mb-6">External Resources</h2>
      <p class="text-gray-300 mb-6">
        For deeper learning, these official resources are excellent:
      </p>
      <ul class="space-y-3">
        <li>
          <a
            href="https://leanprover.github.io/theorem_proving_in_lean4/"
            target="_blank"
            rel="noopener noreferrer"
            class="text-blue-400 hover:text-blue-300"
          >
            Theorem Proving in Lean 4
          </a>
          <span class="text-gray-500"> — The official comprehensive guide</span>
        </li>
        <li>
          <a
            href="https://leanprover-community.github.io/mathematics_in_lean/"
            target="_blank"
            rel="noopener noreferrer"
            class="text-blue-400 hover:text-blue-300"
          >
            Mathematics in Lean
          </a>
          <span class="text-gray-500">
            — Interactive textbook with exercises</span
          >
        </li>
        <li>
          <a
            href="https://lean-lang.org/functional_programming_in_lean/"
            target="_blank"
            rel="noopener noreferrer"
            class="text-blue-400 hover:text-blue-300"
          >
            Functional Programming in Lean
          </a>
          <span class="text-gray-500"> — Programming perspective on Lean</span>
        </li>
        <li>
          <a
            href="https://leanprover-community.github.io/mathlib4_docs/"
            target="_blank"
            rel="noopener noreferrer"
            class="text-blue-400 hover:text-blue-300"
          >
            Mathlib4 Documentation
          </a>
          <span class="text-gray-500"> — API reference for Mathlib</span>
        </li>
      </ul>
    </section>
  </div>
</BaseLayout>
